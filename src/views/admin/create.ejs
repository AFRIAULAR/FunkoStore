<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@100;300;400;500;600;700;900&family=Raleway:wght@100;300;400;500;600;700;900&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="icon" href="/assets/branding/isotype.svg" type="Isologotipo pestaña">
    <title>Crear nuevo Item</title>
</head>


<header>
    <nav class="nav-bar">
        <picture>
            <a href="/home">
                <img src="/assets/branding/logo_light_horizontal.svg" alt="Isologotipo de la marca funko">
            </a>
        </picture>
        <ul class="navBar-ul">
            <li class="navBar-li">
                <a href="/home">VER TIENDA</a>
            </li>
            <li class="navBar-li">
                <a href="/admin">ADMIN</a>
            </li>
            <li class="navBar-li">
                <a href="/auth/logout">SALIR</a>
            </li>
        </ul>
    </nav>
</header>

<main>
    <div class="text-center">    
        <h1 class="listado2">CREAR NUEVO ITEM</h1>
      
         
            <form action="/admin/create" method="POST" enctype="multipart/form-data" class="form"> 
            <div class="container-options"> 
              <label for="form-box">Categoría:</label>
              <select class="checkbox" id="form-box" name="category_id">
                <option value="" disabled selected hidden>Seleccionar</option>
                <option value="1">Figuras Coleccionables</option>
                <option value="2">Llaveros</option>
                <option value="3">Remeras</option>
              </select>
           
                <label for="form-lic">Licencia:</label>
                <select class="checkbox" id="form-lic" name="licence_id">
                  <option value="" disabled selected hidden>Seleccionar</option>
                  <option value="1" name="Pokemon">Pokemon</option>
                  <option value="2" name="Star Wars">Star Wars</option>
                  <option value="3" name="Harry Potter">Harry Potter</option>
                  <option value="4" name="Naruto">Naruto</option>
                </select> 
                </div>
                
                <div class="container-options">
                    <label for="Produc-name">Nombre del producto:</label>
                <input type="text" placeholder="Kakashi Hatake Shippuden Saga" id="Produc-name" class="input-data" name="product_name">
               </div>
                
                <textarea rows="4" cols="50" placeholder=" Descripción del producto..." class="container-options" name="product_description"></textarea>
                
                <div class="container-options">
                    <label for="Produc-id">SKU:</label>
                <input type="text" placeholder="SSK111AB001" id="Produc-id" class="input-data" name="sku">
                <label for="Produc-price">PRECIO:</label>
                <input type="text" placeholder="$0.000,00" id="Produc-price" class="input-data" name="price">
                <label for="Produc-stock">STOCK:</label>
                <input type="text" placeholder="0" id="Produc-stock" class="input-data" name="stock">
               </div>

               <div class="container-options">
                <label for="Descuento">Descuento:</label>
                <input type="text" placeholder="0%" id="Descuento" class="input-data" name="discount"> 

                <label for="cuotas">CUOTAS:</label>
              <select class="checkbox" id="cuotas" name="dues">
                <option value="0" disabled selected hidden>3 cuotas sin interés</option>
                <option value="3">3 cuotas sin interés</option>
                <option value="6">6 cuotas con recargo</option>
                <option value="9">9 cuotas con recargo</option>
                <option value="12 ">12 cuotas con recargo</option>
                <option value="18">18 cuotas con recargo</option>
                <option value="24">24 cuotas con recargo</option>
               </select>
               </div>

              <!--<div class="container-options">
                <label for="image" style="cursor: pointer;">Imagenes:</label>
                <input type="file" name="images" id="img" multiple>
                <button type="button" class="button">Elegir Archivos</button>
              </div>-->

              <div id="status-message"></div>

<button id="upload-button" type="button" class="button" onclick="uploadFiles()">Elegir Archivos</button>

<script>
  async function uploadFiles() {
    const formData = new FormData();
    const imageFront = document.getElementById('image_front').files[0];
    const imageBack = document.getElementById('image_back').files[0];

    formData.append('image_front', imageFront);
    formData.append('image_back', imageBack);

    try {
      const response = await fetch('/admin/create', {
        method: 'POST',
        body: formData,
      });

      if (response.ok) {
        document.getElementById('status-message').innerText = 'Archivos subidos correctamente.';
        document.getElementById('upload-button').style.display = 'none';
      } else {
        document.getElementById('status-message').innerText = 'Error al subir archivos. Inténtalo de nuevo.';
      }
    } catch (error) {
      console.error('Error de red:', error.message);
      document.getElementById('status-message').innerText = 'Error de red. Inténtalo de nuevo.';
    }
  }
</script>

                
              <button class="cart-button3" type="submit">Agregar Producto</button>
              <button class="cart-button3" type="reset">Limpiar</button>
              
    </form>          
</main>

<footer>
    <section class="footer-container">
        <nav class="footer-nav">
            <div class="footer-li">
                <ul class="navBar-ul-footer">
                    <li class="navBarFooter-li">
                        <a href="/shop">SHOP</a>
                    </li>
                    <li class="navBarFooter-li">
                        <a href="/register">REGISTRARSE</a>
                    </li>
                    <li class="navBarFooter-li">
                        <a href="/login">LOGIN</a>
                    </li>
                    <li class="navBarFooter-li">
                        <a href="#">CONTACTO</a>
                    </li>
                </ul>
            </div>
            <div class="footer-logo">
               <a href="/home"> <img src="../assets/branding/isotype.svg"></a>
            </div>
        </nav>
        <p class="footer-p">All rights reserved 2023 - Funkoshop @copyright</p>
    </section>
</footer>
</html>

